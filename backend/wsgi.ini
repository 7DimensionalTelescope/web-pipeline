[uwsgi]
# Basic settings
chdir = /home/7dt/web-pipeline/backend
module = wsgi:app
master = true
processes = 5

# Socket configuration
socket = /home/7dt/web-pipeline/backend/backend.sock
chmod-socket = 660

# Security settings
strict = true
need-app = true

# Buffer size optimization
buffer-size = 1048576
post-buffering = 1048576
thunder-lock = true

# Process management
vacuum = true
die-on-term = true
harakiri = 60
harakiri-verbose = true
max-requests = 5000
reload-on-rss = 2048
lazy-apps = true
single-interpreter = true

# Logging
logto = /home/7dt/web-pipeline/backend/pipeline_backend.log
log-maxsize = 10485760
log-backupname = /home/7dt/web-pipeline/backend/pipeline_backend.log.old
disable-logging = false
log-slow = true
log-4xx = true
log-5xx = true

# User/Group settings
uid = www-data
gid = www-data

# Add these lines
manage-script-name = true
mount = /pipeline=wsgi:app

